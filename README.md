# Meals in Minutes: Predicting Prep Time with Nutritional Insights
## 

**Name(s)**: Meghana Paruchuri and Rishitha Talluri

## INTRODUCTION
For this project, we will be working with the recipe and ratings dataset that describes different foods to make and related information. 
The main question we are aiming to answer is: what types of recipes tend to take longer to cook? Specifically, we aim to use the "healthiness" of the recipe to predict cooking time.

Understanding the relationship between nutrition and cooking time is important in helping home cooks make more informed decisions about what to prepare, especially if they're looking for healthier recipes that fit into tight schedules.
It could also provide insight onto how the nutritional values of a dish may be correlated with its cooking time.

The initial dataset for recipes has 231637 rows × 12 columns, whereas the dataset for ratings has 1132367 rows × 5 columns. When we move forward with the next part of the project, we will clean and merge the two datasets.
The columns that are relevant to our research include:
- "minutes": how long it takes to prepare the recipe
- "nutrition": nutrition information written as [calories (#), total fat (PDV), sugar (PDV), sodium (PDV), protein (PDV), saturated fat (PDV), carbohydrates (PDV)]
- "id": the recipe id


## DATA CLEANING AND EXPLORATORY DATA ANALYSIS

## 🧼 Data Cleaning
### 1. Merging Recipes and Ratings
- Combined the recipes and ratings datasets using a left join on recipe ID
- This ensures every recipe is preserved while incorporating all related user ratings and reviews
- Resulted in a wider dataset where each recipe may have multiple entries (one per rating)

### 2. Replacing Zero Ratings with NaN
- Ratings with a value of 0 likely means the recipe was "not rated" rather than one that truly received a rating of 0
- Replacing them with NaN ensures they’re excluded from average calculations, improving accuracy and general analysis of our data

### 3. Creating Average Ratings per Recipe
- Computed the mean rating for each recipe
- Mapped this back into the main dataset as a new column avg_rating
- This creates a useful metric for recipe quality based on the general consensus of all the reviews for each recipe

### 4. Splitting Nutrition Information into Columns
- The original nutrition column was a single string with all nutrient values
- Used regex to extract numeric values and split them into individual columns (calories, fat, protein, etc.)
- This enables us to perform quantitative analysis of the different nutrition values, allowing us to model and visualize these values

### 5. Removing Extreme Outliers
- Removed recipes with extremely long preparation times (>2 days) and high calorie counts (<4000 cals)
- These extreme values are most likely user entry errors or edge cases that will skew our analysis

| name                                       |     id |   minutes |   contributor_id | submitted   | tags                                                                                                                                                                                                                                                                             | nutrition                                 |   n_steps | steps                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | description                                                                                                                                                                          | ingredients                                                                                   |   n_ingredients |   user_id |   recipe_id | date       |   rating | review                                                                                                                                                                                                                                                                                                                                                                     |   avg_rating |   calories |   fat |   sugar |   sodium |   protein |   saturated_fat |   carbs |
|:-------------------------------------------|-------:|----------:|-----------------:|:------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:------------------------------------------|----------:|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:----------------------------------------------------------------------------------------------|----------------:|----------:|------------:|:-----------|---------:|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------:|-----------:|------:|--------:|---------:|----------:|----------------:|--------:|
| arriba   baked winter squash mexican style | 137739 |        55 |            47892 | 2005-09-16  | ['60-minutes-or-less', 'time-to-make', 'course', 'main-ingredient', 'cuisine', 'preparation', 'occasion', 'north-american', 'side-dishes', 'vegetables', 'mexican', 'easy', 'fall', 'holiday-event', 'vegetarian', 'winter', 'dietary', 'christmas', 'seasonal', 'squash']       | [51.5, 0.0, 13.0, 0.0, 2.0, 0.0, 4.0]     |        11 | ['make a choice and proceed with recipe', 'depending on size of squash , cut into half or fourths', 'remove seeds', 'for spicy squash , drizzle olive oil or melted butter over each cut squash piece', 'season with mexican seasoning mix ii', 'for sweet squash , drizzle melted honey , butter , grated piloncillo over each cut squash piece', 'season with sweet mexican spice mix', 'bake at 350 degrees , again depending on size , for 40 minutes up to an hour , until a fork can easily pierce the skin', 'be careful not to burn the squash especially if you opt to use sugar or butter', 'if you feel more comfortable , cover the squash with aluminum foil the first half hour , give or take , of baking', 'if desired , season with salt'] | autumn is my favorite time of year to cook! this recipe                                                                                                                              | ['winter squash', 'mexican seasoning', 'mixed spice', 'honey', 'butter', 'olive oil', 'salt'] |               7 |      4470 |      137739 | 2006-02-18 |        5 | I used an acorn squash and recipe#137681 Sweet Mexican spice blend. Only used 1 tsp honey & 1 tsp butter between both halves,, sprinkled the squash liberally with the spice mix. Baked covered for 45 minutes uncovered or 15.  I basted the squash   with the the butter/honey from the cavity  allowing it to get a golden color.  Lovely Squash recipe Thanks Cookgirl |      5       |       51.5 |     0 |      13 |        0 |         2 |               0 |       4 |
|                                            |        |           |                  |             |                                                                                                                                                                                                                                                                                  |                                           |           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | can be prepared either spicy or sweet, your choice!                                                                                                                                  |                                                                                               |                 |           |             |            |          |                                                                                                                                                                                                                                                                                                                                                                            |              |            |       |         |          |           |                 |         |
|                                            |        |           |                  |             |                                                                                                                                                                                                                                                                                  |                                           |           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | two of my posted mexican-inspired seasoning mix recipes are offered as suggestions.                                                                                                  |                                                                                               |                 |           |             |            |          |                                                                                                                                                                                                                                                                                                                                                                            |              |            |       |         |          |           |                 |         |
| arriba   baked winter squash mexican style | 137739 |        55 |            47892 | 2005-09-16  | ['60-minutes-or-less', 'time-to-make', 'course', 'main-ingredient', 'cuisine', 'preparation', 'occasion', 'north-american', 'side-dishes', 'vegetables', 'mexican', 'easy', 'fall', 'holiday-event', 'vegetarian', 'winter', 'dietary', 'christmas', 'seasonal', 'squash']       | [51.5, 0.0, 13.0, 0.0, 2.0, 0.0, 4.0]     |        11 | ['make a choice and proceed with recipe', 'depending on size of squash , cut into half or fourths', 'remove seeds', 'for spicy squash , drizzle olive oil or melted butter over each cut squash piece', 'season with mexican seasoning mix ii', 'for sweet squash , drizzle melted honey , butter , grated piloncillo over each cut squash piece', 'season with sweet mexican spice mix', 'bake at 350 degrees , again depending on size , for 40 minutes up to an hour , until a fork can easily pierce the skin', 'be careful not to burn the squash especially if you opt to use sugar or butter', 'if you feel more comfortable , cover the squash with aluminum foil the first half hour , give or take , of baking', 'if desired , season with salt'] | autumn is my favorite time of year to cook! this recipe                                                                                                                              | ['winter squash', 'mexican seasoning', 'mixed spice', 'honey', 'butter', 'olive oil', 'salt'] |               7 |    593927 |      137739 | 2010-08-21 |        5 | This was a nice change. I used butternut squash and the sweet option using a good local honey and unsalted butter. I did not add salt. We ate this on top of recipe#322603 with Balkan yogurt. I may make this again same option. Made for Ramadan Tag 2010.                                                                                                               |      5       |       51.5 |     0 |      13 |        0 |         2 |               0 |       4 |
|                                            |        |           |                  |             |                                                                                                                                                                                                                                                                                  |                                           |           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | can be prepared either spicy or sweet, your choice!                                                                                                                                  |                                                                                               |                 |           |             |            |          |                                                                                                                                                                                                                                                                                                                                                                            |              |            |       |         |          |           |                 |         |
|                                            |        |           |                  |             |                                                                                                                                                                                                                                                                                  |                                           |           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | two of my posted mexican-inspired seasoning mix recipes are offered as suggestions.                                                                                                  |                                                                                               |                 |           |             |            |          |                                                                                                                                                                                                                                                                                                                                                                            |              |            |       |         |          |           |                 |         |
| arriba   baked winter squash mexican style | 137739 |        55 |            47892 | 2005-09-16  | ['60-minutes-or-less', 'time-to-make', 'course', 'main-ingredient', 'cuisine', 'preparation', 'occasion', 'north-american', 'side-dishes', 'vegetables', 'mexican', 'easy', 'fall', 'holiday-event', 'vegetarian', 'winter', 'dietary', 'christmas', 'seasonal', 'squash']       | [51.5, 0.0, 13.0, 0.0, 2.0, 0.0, 4.0]     |        11 | ['make a choice and proceed with recipe', 'depending on size of squash , cut into half or fourths', 'remove seeds', 'for spicy squash , drizzle olive oil or melted butter over each cut squash piece', 'season with mexican seasoning mix ii', 'for sweet squash , drizzle melted honey , butter , grated piloncillo over each cut squash piece', 'season with sweet mexican spice mix', 'bake at 350 degrees , again depending on size , for 40 minutes up to an hour , until a fork can easily pierce the skin', 'be careful not to burn the squash especially if you opt to use sugar or butter', 'if you feel more comfortable , cover the squash with aluminum foil the first half hour , give or take , of baking', 'if desired , season with salt'] | autumn is my favorite time of year to cook! this recipe                                                                                                                              | ['winter squash', 'mexican seasoning', 'mixed spice', 'honey', 'butter', 'olive oil', 'salt'] |               7 |    178427 |      137739 | 2011-12-05 |        5 | Excellent recipe! I used butternut squash and the sweet option. The mexican spice mix put this over the top. Thanks for sharing.                                                                                                                                                                                                                                           |      5       |       51.5 |     0 |      13 |        0 |         2 |               0 |       4 |
|                                            |        |           |                  |             |                                                                                                                                                                                                                                                                                  |                                           |           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | can be prepared either spicy or sweet, your choice!                                                                                                                                  |                                                                                               |                 |           |             |            |          |                                                                                                                                                                                                                                                                                                                                                                            |              |            |       |         |          |           |                 |         |
|                                            |        |           |                  |             |                                                                                                                                                                                                                                                                                  |                                           |           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | two of my posted mexican-inspired seasoning mix recipes are offered as suggestions.                                                                                                  |                                                                                               |                 |           |             |            |          |                                                                                                                                                                                                                                                                                                                                                                            |              |            |       |         |          |           |                 |         |
| a bit different  breakfast pizza           |  31490 |        30 |            26278 | 2002-06-17  | ['30-minutes-or-less', 'time-to-make', 'course', 'main-ingredient', 'cuisine', 'preparation', 'occasion', 'north-american', 'breakfast', 'main-dish', 'pork', 'american', 'oven', 'easy', 'kid-friendly', 'pizza', 'dietary', 'northeastern-united-states', 'meat', 'equipment'] | [173.4, 18.0, 0.0, 17.0, 22.0, 35.0, 1.0] |         9 | ['preheat oven to 425 degrees f', 'press dough into the bottom and sides of a 12 inch pizza pan', 'bake for 5 minutes until set but not browned', 'cut sausage into small pieces', 'whisk eggs and milk in a bowl until frothy', 'spoon sausage over baked crust and sprinkle with cheese', 'pour egg mixture slowly over sausage and cheese', 's& p to taste', 'bake 15-20 minutes or until eggs are set and crust is brown']                                                                                                                                                                                                                                                                                                                              | this recipe calls for the crust to be prebaked a bit before adding ingredients. feel free to change sausage to ham or bacon. this warms well in the microwave for those late risers. | ['prepared pizza crust', 'sausage patty', 'eggs', 'milk', 'salt and pepper', 'cheese']        |               6 |     28603 |       31490 | 2002-08-19 |      nan | Have not tried this, but it sounds delicious. Reminds me of a layover I had at the Atlanta airport.  I had a ham, egg, and cheese pizza at one of the pizza chain places on the concourse.  About $2.99 with coffee... It was one of the best breakfast dishes I ever had!  (But a strange place to find a delicious breakfast...lol)                                      |      4.66667 |      173.4 |    18 |       0 |       17 |        22 |              35 |       1 |
| a bit different  breakfast pizza           |  31490 |        30 |            26278 | 2002-06-17  | ['30-minutes-or-less', 'time-to-make', 'course', 'main-ingredient', 'cuisine', 'preparation', 'occasion', 'north-american', 'breakfast', 'main-dish', 'pork', 'american', 'oven', 'easy', 'kid-friendly', 'pizza', 'dietary', 'northeastern-united-states', 'meat', 'equipment'] | [173.4, 18.0, 0.0, 17.0, 22.0, 35.0, 1.0] |         9 | ['preheat oven to 425 degrees f', 'press dough into the bottom and sides of a 12 inch pizza pan', 'bake for 5 minutes until set but not browned', 'cut sausage into small pieces', 'whisk eggs and milk in a bowl until frothy', 'spoon sausage over baked crust and sprinkle with cheese', 'pour egg mixture slowly over sausage and cheese', 's& p to taste', 'bake 15-20 minutes or until eggs are set and crust is brown']                                                                                                                                                                                                                                                                                                                              | this recipe calls for the crust to be prebaked a bit before adding ingredients. feel free to change sausage to ham or bacon. this warms well in the microwave for those late risers. | ['prepared pizza crust', 'sausage patty', 'eggs', 'milk', 'salt and pepper', 'cheese']        |               6 |    346277 |       31490 | 2006-08-27 |        5 | This recipe was wonderful.  Instead of using the precooked sausage I substituted uncooked sausage then cooked and drained it. It turned out perfect!                                                                                                                                                                                                                       |      4.66667 |      173.4 |    18 |       0 |       17 |        22 |              35 |       1 |
UNIVARIATE ANALYSIS
#distribution of average recipe ratings
fig = px.histogram(avg_ratings, nbins=10, title='Distribution of Average Reciple Ratings',
                   labels={'value': 'Rating'}, 
                   opacity=0.75)
fig.update_layout(bargap=0.2)
fig.show()



## 1️⃣ Univariate Analysis

### Distribution of Calories
 <iframe
 src="assets/uni_calories.html"
 width="800"
 height="600"
 frameborder="0"
 ></iframe>
 This plot is a histogram demonstrating the distribution of calories. We can see that the curve is right skewed, with the majority of recipes falling under the 200 - 400 calorie range, then trailing off as the number of calories increases. It is important to note that there are a few outliers in the 3000 and above range as well.

### Distribution of Preparation Times
 <iframe
 src="assets/uni_minutes.html"
 width="800"
 height="600"
 frameborder="0"
 ></iframe>
 This plot is also a histogram showing the univariate distribution of the 'minutes' column. This curve is heavily right skewed, where the vast majority of recipes take under 49 minutes to make, with minimal to none taking above 550 minutes

## 1️⃣ Bivariate Analysis